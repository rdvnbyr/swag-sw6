{"version":3,"file":"index-BsZmNlG0.js","sources":["../../../app/administration/src/module/sw-extension/component/sw-extension-card-base/sw-extension-card-base.html.twig","../../../app/administration/src/module/sw-extension/component/sw-extension-card-base/index.ts"],"sourcesContent":["{% block sw_extension_card_base_activation_switch %}\n<div class=\"sw-extension-card-base__info\">\n    <section>\n        <span class=\"sw-extension-card-base__info-name\">\n            {{ extension.label }}\n        </span>\n\n        <span v-if=\"extension.inAppFeaturesAvailable\" class=\"sw-extension-card-base__in-app-purchase__badge\">\n            {{ $t('sw-extension.in-app-purchase.badge-label') }}\n        </span>\n    </section>\n</div>\n{% endblock %}\n\n{% block sw_extension_card_base_context_menu_actions_additional %}\n    {% parent %}\n    <sw-context-menu-item\n        v-if=\"hasActiveInAppPurchases(extension.name)\"\n        class=\"sw-extension-card-base__in-app-purchase__store_link\"\n        @click=\"openAccountPage\"\n    >\n        <sw-external-link>\n            {{ $t('sw-extension.in-app-purchase.context-menu.account-link-label') }}\n        </sw-external-link>\n    </sw-context-menu-item>\n\n    <sw-context-menu-item\n        v-if=\"extension.inAppFeaturesAvailable\"\n        class=\"sw-extension-card-base__in-app-purchase__in-app-purchase-link\"\n        @click=\"openInAppPurchasesListingModal\"\n    >\n        {{ $t('sw-extension.in-app-purchase.context-menu.in-app-purchases-label') }}\n    </sw-context-menu-item>\n{% endblock %}\n\n{% block sw_extension_card_base_modals %}\n    {% parent %}\n    <sw-extension-store-in-app-purchases-listing-modal\n        v-if=\"showInAppPurchasesListingModal\"\n        :extension=\"extension\"\n        :in-app-purchases=\"inAppPurchases\"\n        @modal-close=\"closeInAppPurchasesListingModal\"\n    />\n{% endblock %}\n","import template from './sw-extension-card-base.html.twig';\nimport type * as IAP from 'SwagExtensionStore/module/sw-in-app-purchases/types';\nimport './sw-extension-card-base.scss';\n\nconst accountUrl = 'https://account.shopware.com';\n\n/**\n * @package checkout\n */\nexport default Shopware.Component.wrapComponentConfig({\n    template: template,\n\n    inject: [\n        'inAppPurchasesService',\n    ],\n\n    data() {\n        return {\n            inAppPurchases: [] as IAP.InAppPurchase[],\n            showInAppPurchasesListingModal: false,\n        };\n    },\n\n    methods: {\n        openAccountPage() {\n            window.open(`${accountUrl}/shops/shops`, '_blank');\n        },\n\n        hasActiveInAppPurchases(extensionName: string) {\n            return Shopware.InAppPurchase.getByExtension(extensionName).length > 0;\n        },\n\n        openInAppPurchasesListingModal() {\n            this.showInAppPurchasesListingModal = true;\n            this.fetchInAppPurchases();\n        },\n\n        closeInAppPurchasesListingModal() {\n            this.showInAppPurchasesListingModal = false;\n            this.inAppPurchases = [];\n        },\n\n        async fetchInAppPurchases() {\n            this.inAppPurchases = await this.inAppPurchasesService.getAvailablePurchases((this.extension as IAP.Extension).name);\n        },\n    },\n});\n"],"names":["template","accountUrl","index","extensionName"],"mappings":"AAAA,MAAAA,EAAe,gyCCITC,EAAa,+BAKnBC,EAAe,SAAS,UAAU,oBAAoB,CAClD,SAAAF,EAEA,OAAQ,CACJ,uBAAA,EAGJ,MAAO,CACH,MAAO,CACH,eAAgB,CAAA,EAChB,+BAAgC,EAAA,CACpC,EAGJ,QAAS,CACL,iBAAkB,CACd,OAAO,KAAK,GAAGC,CAAU,eAAgB,QAAQ,CAAA,EAGrD,wBAAwBE,EAAuB,CAC3C,OAAO,SAAS,cAAc,eAAeA,CAAa,EAAE,OAAS,CAAA,EAGzE,gCAAiC,CAC7B,KAAK,+BAAiC,GACtC,KAAK,oBAAA,CAAoB,EAG7B,iCAAkC,CAC9B,KAAK,+BAAiC,GACtC,KAAK,eAAiB,CAAA,CAAC,EAG3B,MAAM,qBAAsB,CACxB,KAAK,eAAiB,MAAM,KAAK,sBAAsB,sBAAuB,KAAK,UAA4B,IAAI,CAAA,CACvH,CAER,CAAC"}