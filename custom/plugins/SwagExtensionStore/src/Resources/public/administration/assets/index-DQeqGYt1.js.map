{"version":3,"file":"index-DQeqGYt1.js","sources":["../../../app/administration/src/module/sw-dashboard/component/sw-dashboard-statistics-promotion-card/sw-dashboard-statistics-promotion-card.html.twig","../../../app/administration/src/module/sw-dashboard/component/sw-dashboard-statistics-promotion-card/index.js"],"sourcesContent":["<mt-card\n    v-if=\"showBanner\"\n    class=\"sw-dashboard-statistics-promotion-banner\"\n>\n    <template #grid>\n        <div class=\"sw-dashboard-statistics-promotion-banner__advertisement\">\n            <div class=\"sw-dashboard-statistics-promotion-banner__advertisement-details\">\n                <div\n                    v-if=\"showBadge\"\n                    class=\"sw-dashboard-statistics-promotion-banner__advertisement-details-badge\"\n                >\n                    {{ $t('sw-dashboard-statistics-promotion-card.badge-new') }}\n                </div>\n                <h3 class=\"sw-dashboard-statistics-promotion-banner__advertisement-details-title\">\n                    {{ $t('sw-dashboard-statistics-promotion-card.promotion-title') }}\n                </h3>\n\n                <div class=\"sw-dashboard-statistics-promotion-banner__advertisement-details-description\">\n                    {{ $t('sw-dashboard-statistics-promotion-card.promotion-text') }}\n                </div>\n            </div>\n            <div class=\"sw-dashboard-statistics-promotion-banner__advertisement-graph\">\n                <img :src=\"assetFilter('/swagextensionstore/administration/static/img/analytics/promotion/graphic.svg')\">\n            </div>\n        </div>\n\n        <div class=\"sw-dashboard-statistics-promotion-banner__app-card\">\n            <div class=\"sw-dashboard-statistics-promotion-banner__app-card-app\">\n                <sw-extension-icon\n                    class=\"sw-dashboard-statistics-promotion-banner__app-card-app-icon\"\n                    :src=\"assetFilter('/swagextensionstore/administration/static/img/analytics/extension/icon.svg')\"\n                />\n\n                <div class=\"sw-dashboard-statistics-promotion-banner__app-card-app-info\">\n                    <h4 class=\"sw-dashboard-statistics-promotion-banner__app-card-app-info-name\">\n                        {{ $t('sw-dashboard-statistics-promotion-card.app-name') }}\n                    </h4>\n\n                    <span class=\"sw-dashboard-statistics-promotion-banner__app-card-app-info-description\">\n                        {{ $t('sw-dashboard-statistics-promotion-card.app-description') }}\n                    </span>\n                </div>\n            </div>\n\n            <mt-button\n                class=\"sw-dashboard-statistics-promotion-banner__app-card-go-to-app\"\n                variant=\"primary\"\n                :disabled=\"!linkToStatisticsAppExists\"\n                @click=\"goToStatisticsAppDetailPage\"\n            >\n                {{ $t('sw-dashboard-statistics-promotion-card.go-to-app') }} <mt-icon name=\"regular-long-arrow-right\" size=\"12px\" />\n            </mt-button>\n        </div>\n    </template>\n</mt-card>\n","import template from './sw-dashboard-statistics-promotion-card.html.twig';\nimport './sw-dashboard-statistics-promotion-card.scss';\n\nconst STATISTICS_APP_NAME = 'SwagAnalytics';\nconst BADGE_NEW_REMOVAL_DATE = '2025-01-01 00:00:00.000';\n\nexport default Shopware.Component.wrapComponentConfig({\n    template,\n\n    inject: ['extensionStoreDataService', 'acl'],\n\n    data() {\n        return {\n            isAppInstalled: false,\n            routeToApp: null,\n        };\n    },\n\n    computed: {\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n\n        showBanner() {\n            // If the app is installed and deactivated, we still want to not show the banner\n            return !this.isAppInstalled;\n        },\n\n        showBadge() {\n            return (new Date()) < (new Date(BADGE_NEW_REMOVAL_DATE));\n        },\n\n        linkToStatisticsAppExists() {\n            return !!this.routeToApp;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            this.isAppInstalled = !!Shopware.Context.app.config.bundles[STATISTICS_APP_NAME];\n\n            if (!this.canAccessExtensionStore()) {\n                // Take the user to the extension store so that they see an \"Access denied\" message\n                this.routeToApp = { name: 'sw.extension.store' };\n\n                return;\n            }\n\n            this.extensionStoreDataService.getExtensionByName(\n                STATISTICS_APP_NAME,\n                Shopware.Context.api,\n            ).then((extension) => {\n                if (extension) {\n                    this.routeToApp = { name: 'sw.extension.store.detail', params: { id: extension.id } };\n                }\n            });\n        },\n\n        goToStatisticsAppDetailPage() {\n            if (!this.linkToStatisticsAppExists) {\n                return;\n            }\n\n            this.$router.push(this.routeToApp);\n        },\n\n        canAccessExtensionStore() {\n            return this.acl.can('system.plugin_maintain');\n        },\n    },\n});\n"],"names":["template","STATISTICS_APP_NAME","BADGE_NEW_REMOVAL_DATE","index","extension"],"mappings":"AAAA,MAAAA,EAAe,o8DCGTC,EAAsB,gBACtBC,EAAyB,0BAE/BC,EAAe,SAAS,UAAU,oBAAoB,CAClD,SAAAH,EAEA,OAAQ,CAAC,4BAA6B,KAAK,EAE3C,MAAO,CACH,MAAO,CACH,eAAgB,GAChB,WAAY,IACxB,CACA,EAEI,SAAU,CACN,aAAc,CACV,OAAO,SAAS,OAAO,UAAU,OAAO,CACpD,EAEQ,YAAa,CAET,MAAO,CAAC,KAAK,cACzB,EAEQ,WAAY,CACR,OAAQ,IAAI,KAAW,IAAI,KAAKE,CAAsB,CAClE,EAEQ,2BAA4B,CACxB,MAAO,CAAC,CAAC,KAAK,UAC1B,CACA,EAEI,SAAU,CACN,KAAK,iBAAgB,CAC7B,EAEI,QAAS,CACL,MAAM,kBAAmB,CAGrB,GAFA,KAAK,eAAiB,CAAC,CAAC,SAAS,QAAQ,IAAI,OAAO,QAAQD,CAAmB,EAE3E,CAAC,KAAK,0BAA2B,CAEjC,KAAK,WAAa,CAAE,KAAM,oBAAoB,EAE9C,MAChB,CAEY,KAAK,0BAA0B,mBAC3BA,EACA,SAAS,QAAQ,GACjC,EAAc,KAAMG,GAAc,CACdA,IACA,KAAK,WAAa,CAAE,KAAM,4BAA6B,OAAQ,CAAE,GAAIA,EAAU,GAAI,EAEvG,CAAa,CACb,EAEQ,6BAA8B,CACrB,KAAK,2BAIV,KAAK,QAAQ,KAAK,KAAK,UAAU,CAC7C,EAEQ,yBAA0B,CACtB,OAAO,KAAK,IAAI,IAAI,wBAAwB,CACxD,CACA,CACA,CAAC"}