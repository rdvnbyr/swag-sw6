{"version":3,"file":"index-BkJD84yc.js","sources":["../../../app/administration/src/module/sw-in-app-purchases/component/sw-in-app-purchase-checkout-state/sw-in-app-purchase-checkout-state.html.twig","../../../app/administration/src/module/sw-in-app-purchases/component/sw-in-app-purchase-checkout-state/index.ts"],"sourcesContent":["<div class=\"sw-in-app-purchase-checkout-state\" :class=\"classes\">\n    <sw-loader v-if=\"state === 'loading'\" size=\"50px\" />\n\n    <div v-if=\"icon\" class=\"sw-in-app-purchase-checkout-state__icon\">\n        <mt-icon size=\"24px\" :name=\"icon\" />\n    </div>\n\n    <div v-if=\"title || subtitle\" class=\"sw-in-app-purchase-checkout-state__titles\">\n        <p v-if=\"title\" class=\"sw-in-app-purchase-checkout-state__title\">\n            {{ title }}\n        </p>\n\n        <p v-if=\"subtitle\" class=\"sw-in-app-purchase-checkout-state__sub-title\">\n            {{ subtitle }}\n        </p>\n    </div>\n</div>\n","import template from './sw-in-app-purchase-checkout-state.html.twig';\nimport './sw-in-app-purchase-checkout-state.scss';\n\n/**\n * @private\n */\nexport default Shopware.Component.wrapComponentConfig({\n    template,\n\n    props: {\n        state: {\n            type: String as PropType<'loading' | 'error' | 'success'>,\n            required: true,\n        },\n        error: {\n            type: String,\n            required: false,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            allowedErrors: [\n                'The requested in-app feature has already been purchased',\n                'Das angefragte In-App Feature wurde bereits erworben',\n            ],\n        };\n    },\n\n    computed: {\n        classes() {\n            return {\n                'is--error': this.state === 'error',\n                'is--success': this.state === 'success',\n                'is--loading': this.state === 'loading',\n            };\n        },\n\n        icon(): string | null {\n            switch (this.state) {\n                case 'error':\n                    return 'solid-times';\n                case 'success':\n                    return 'solid-checkmark';\n                default:\n                    return null;\n            }\n        },\n\n        title(): string | null {\n            switch (this.state) {\n                case 'error':\n                    return this.$t('sw-in-app-purchase-checkout-state.errorTitle');\n                case 'success':\n                    return this.$t('sw-in-app-purchase-checkout-state.successTitle');\n                default:\n                    return null;\n            }\n        },\n\n        subtitle(): string | null {\n            switch (this.state) {\n                case 'error':\n                    return this.errorSnippet;\n                case 'success':\n                    return this.$t('sw-in-app-purchase-checkout-state.successSubtitle');\n                default:\n                    return null;\n            }\n        },\n\n        errorSnippet(): string {\n            // if snippet is null, return the default error message\n            if (!this.error) {\n                return this.$t('sw-in-app-purchase-checkout-state.errorSubtitle');\n            }\n\n            const slugifiedSnippet = 'errors.' + this.error\n                .toLowerCase()\n                .replace(/[^a-zA-Z0-9_ -]/g, '') // remove all non-alphanumeric characters except underscores and spaces\n                .replace(/[\\s_]+/g, '-'); // replace spaces and underscores with hyphens\n\n            // if snippet slug exists in translation file, it comes from the extension store and must be translated\n            if (this.$te(`sw-in-app-purchase-checkout-state.${slugifiedSnippet}`)) {\n                return this.$t(`sw-in-app-purchase-checkout-state.${slugifiedSnippet}`);\n            }\n\n            // if it does not exist in the allowedErrors return the default error message\n            if (!this.allowedErrors.includes(this.error)) {\n                return this.$t('sw-in-app-purchase-checkout-state.errorSubtitle');\n            }\n\n            // if it exists in the allowedErrors it comes from SBP and is already translated\n            return this.error;\n        },\n    },\n});\n"],"names":["template","index","slugifiedSnippet"],"mappings":"AAAA,MAAAA,EAAe,qfCMfC,EAAe,SAAS,UAAU,oBAAoB,CAClD,SAAAD,EAEA,MAAO,CACH,MAAO,CACH,KAAM,OACN,SAAU,EAAA,EAEd,MAAO,CACH,KAAM,OACN,SAAU,GACV,QAAS,IAAA,CACb,EAGJ,MAAO,CACH,MAAO,CACH,cAAe,CACX,0DACA,sDAAA,CACJ,CACJ,EAGJ,SAAU,CACN,SAAU,CACN,MAAO,CACH,YAAa,KAAK,QAAU,QAC5B,cAAe,KAAK,QAAU,UAC9B,cAAe,KAAK,QAAU,SAAA,CAClC,EAGJ,MAAsB,CAClB,OAAQ,KAAK,MAAA,CACT,IAAK,QACD,MAAO,cACX,IAAK,UACD,MAAO,kBACX,QACI,OAAO,IAAA,CACf,EAGJ,OAAuB,CACnB,OAAQ,KAAK,MAAA,CACT,IAAK,QACD,OAAO,KAAK,GAAG,8CAA8C,EACjE,IAAK,UACD,OAAO,KAAK,GAAG,gDAAgD,EACnE,QACI,OAAO,IAAA,CACf,EAGJ,UAA0B,CACtB,OAAQ,KAAK,MAAA,CACT,IAAK,QACD,OAAO,KAAK,aAChB,IAAK,UACD,OAAO,KAAK,GAAG,mDAAmD,EACtE,QACI,OAAO,IAAA,CACf,EAGJ,cAAuB,CAEnB,GAAI,CAAC,KAAK,MACN,OAAO,KAAK,GAAG,iDAAiD,EAGpE,MAAME,EAAmB,UAAY,KAAK,MACrC,YAAA,EACA,QAAQ,mBAAoB,EAAE,EAC9B,QAAQ,UAAW,GAAG,EAG3B,OAAI,KAAK,IAAI,qCAAqCA,CAAgB,EAAE,EACzD,KAAK,GAAG,qCAAqCA,CAAgB,EAAE,EAIrE,KAAK,cAAc,SAAS,KAAK,KAAK,EAKpC,KAAK,MAJD,KAAK,GAAG,iDAAiD,CAIxD,CAChB,CAER,CAAC"}