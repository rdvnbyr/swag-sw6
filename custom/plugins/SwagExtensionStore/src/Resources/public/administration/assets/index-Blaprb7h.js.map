{"version":3,"file":"index-Blaprb7h.js","sources":["../../../app/administration/src/module/sw-extension-store/component/sw-extension-store-slider/sw-extension-store-slider.html.twig","../../../app/administration/src/module/sw-extension-store/component/sw-extension-store-slider/index.js"],"sourcesContent":["{% block sw_extension_store_slider %}\n    <div\n        class=\"sw-extension-store-slider sw-meteor-card\"\n        :class=\"[\n            cardClasses,\n            `sw-extension-store-slider__slides-count-${usedSlideCount}`\n        ]\"\n    >\n        {% block sw_extension_store_slider_slides %}\n            <div ref=\"movingImageWrapper\" class=\"sw-extension-store-slider__slides\">\n                {% block sw_extension_store_slider_loader %}\n                    <div v-if=\"!images\" class=\"sw-extension-store-slider__loader\">\n                        <sw-loader />\n                    </div>\n                {% endblock %}\n\n                <template v-else>\n                    {% block sw_extension_store_slider_slide_item %}\n                        <div\n                            v-for=\"img, key in images\"\n                            :key=\"key\"\n                            class=\"sw-extension-store-slider__slide-item\"\n                            :class=\"slideClasses(key)\"\n                            :data-key=\"key\"\n                            :style=\"getActiveStyle(key)\"\n                        >\n                            <img :src=\"img\">\n                        </div>\n                    {% endblock %}\n                </template>\n            </div>\n        {% endblock %}\n\n        {% block sw_extension_store_slider_navigation %}\n            <div v-if=\"images.length > usedSlideCount\" class=\"sw-extension-store-slider__navigation\">\n                {% block sw_extension_store_slider_navigation_inner %}\n                    <button class=\"sw-extension-store-slider__btn-back\" :disabled=\"isDisabledPrevious\" @click=\"previous()\">\n                        {% block sw_extension_store_slider_navigation_inner_icon_left %}\n                            <mt-icon name=\"regular-chevron-left\" size=\"20\" />\n                        {% endblock %}\n                    </button>\n\n                    <button class=\"sw-extension-store-slider__btn-next\" :disabled=\"isDisabledNext\" @click=\"next()\">\n                        {% block sw_extension_store_slider_navigation_inner_icon_right %}\n                            <mt-icon name=\"regular-chevron-right\" size=\"20\" />\n                        {% endblock %}\n                    </button>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './sw-extension-store-slider.html.twig';\nimport './sw-extension-store-slider.scss';\n\nconst maxSlides = 3;\n\nexport default {\n    template,\n\n    props: {\n        images: {\n            type: Array,\n            required: true,\n        },\n        infinite: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        slideCount: {\n            type: Number,\n            required: false,\n            default: 2,\n        },\n        large: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            activeImgIndex: 0,\n            lastActiveImgIndex: null,\n            isDirectionRight: null,\n        };\n    },\n\n    computed: {\n        cardClasses() {\n            return {\n                'sw-card--large': this.large,\n            };\n        },\n\n        lastActive() {\n            return this.activeImgIndex + this.usedSlideCount - 1;\n        },\n\n        isDisabledNext() {\n            return this.isInfinite ? false : this.lastActive === this.images.length - 1;\n        },\n\n        isDisabledPrevious() {\n            return this.isInfinite ? false : this.activeImgIndex === 0;\n        },\n\n        sliderHasOneImageMoreThanTheSlideCount() {\n            return this.images.length === this.usedSlideCount + 1;\n        },\n\n        isInfinite() {\n            return this.sliderHasOneImageMoreThanTheSlideCount ? false : this.infinite;\n        },\n\n        usedSlideCount() {\n            if (this.slideCount > maxSlides) {\n                return maxSlides;\n            }\n\n            return this.slideCount < 1 ? 1 : this.slideCount;\n        },\n    },\n\n    methods: {\n        getActiveStyle(key) {\n            if (!this.isActive(key)) {\n                return {};\n            }\n\n            const move = 100 / this.usedSlideCount;\n\n            // handle start position after component creation\n            if (this.isDirectionRight === null) {\n                return {\n                    left: `${key * move}%`,\n                };\n            }\n\n            return this.moveActiveImage(key, move);\n        },\n\n        moveActiveImage(key, move) {\n            // guarantee that first active image is always left\n            if (key === this.activeImgIndex) {\n                return {\n                    left: '0%',\n                };\n            }\n\n            if (!this.$refs.movingImageWrapper) {\n                return {};\n            }\n\n            const image = this.$refs.movingImageWrapper.querySelector(`[data-key=\"${key}\"]`);\n            const position = parseInt(image.style.left, 10);\n\n            // handle images that were not active before\n            if (Number.isNaN(position)) {\n                return {\n                    left: `${100 - move}%`,\n                };\n            }\n\n            return {\n                left: this.isDirectionRight ? `${position - move}%` : `${position + move}%`,\n            };\n        },\n\n        next() {\n            this.isDirectionRight = true;\n            this.changeSlide(+1);\n        },\n\n        previous() {\n            this.isDirectionRight = false;\n            this.changeSlide(-1);\n        },\n\n        changeSlide(value) {\n            this.lastActiveImgIndex = this.activeImgIndex;\n\n            if (this.isInfinite) {\n                if (this.activeImgIndex === 0 && !this.isDirectionRight) {\n                    this.activeImgIndex = this.images.length - 1;\n                    return;\n                }\n\n                if (this.activeImgIndex === this.images.length - 1 && this.isDirectionRight) {\n                    this.activeImgIndex = 0;\n                    return;\n                }\n            }\n\n            this.activeImgIndex += value;\n        },\n\n        isActive(index) {\n            let isActive = false;\n\n            for (let i = 0; i < this.usedSlideCount; i += 1) {\n                if (isActive) {\n                    return true;\n                }\n\n                isActive = this.activeImgIndex + i === index;\n            }\n\n            return isActive\n                || (this.lastActive > this.images.length - 1\n                    && index <= (this.lastActive) - this.images.length);\n        },\n\n        isNext(index) {\n            const next = this.activeImgIndex + this.usedSlideCount;\n\n            return next === index\n                || (next > this.images.length - 1\n                    && (next) - this.images.length === index);\n        },\n\n        slideClasses(index) {\n            if (this.sliderHasOneImageMoreThanTheSlideCount) {\n                return {\n                    'is--previous': index === 0 && !this.isActive(index),\n                    'is--next': this.images.length - 1 === index && !this.isActive(index),\n                    'is--active': this.isActive(index),\n                };\n            }\n\n            return {\n                'is--previous': this.activeImgIndex - 1 === index\n                    || (this.activeImgIndex === 0 && index === this.images.length - 1),\n                'is--active': this.isActive(index),\n                'is--next': this.isNext(index),\n            };\n        },\n    },\n};\n"],"names":["template","index","key","move","image","position","value","isActive","i","next"],"mappings":"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"}