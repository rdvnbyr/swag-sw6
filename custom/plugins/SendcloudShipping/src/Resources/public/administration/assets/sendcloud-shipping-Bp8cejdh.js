const d='{% block sendcloud_container %} <div class="sendcloud-container adjust-width"> <slot> {% block sendcloud_container_slot %}{% endblock %} </slot> </div> {% endblock %}',{Component:r}=Shopware;r.register("sendcloud-container",{template:d,data(){return{isExpanded:!0}},created:function(){this.init()},methods:{init(){let e,t=document.getElementsByClassName("sw-admin-menu")[0],n=document.getElementsByClassName("sw-admin-menu__toggle")[0];!t||!n||n.addEventListener("click",function(){e=document.getElementsByClassName("sendcloud-container"),!(!e||!e[0])&&(this.isExpanded=!(t&&!t.classList.contains("is--expanded")),e[0].classList.toggle("adjust-width",this.isExpanded))})}}});const l='{% block sendcloud_content_window %} <div class="sendcloud-content-window-wrapper"> <div class="sendcloud-content-window"> <slot> {% block sendcloud_content_window_slot %}{% endblock %} </slot> </div> </div> {% endblock %}',{Component:c}=Shopware;c.register("sendcloud-content-window",{template:l});const u=`{% block sendlcoud_banner %} <div class="sendcloud-banner"> <img :src="'bundles/sendcloudshipping/administration/img/sendcloud_with_name.svg'"> </div> {% endblock %}`,{Component:p}=Shopware;p.register("sendcloud-banner",{template:u});const m='{% block sendlcoud_main_text %} <div class="sendcloud-main-text"> {{ sendcloudMainText }} </div> {% endblock %}',{Component:h}=Shopware;h.register("sendcloud-main-text",{template:m,props:{sendcloudMainText:{type:String,required:!0,default:""}}});const g='{% block sendlcoud_title %} <div class="sendcloud-title-wrapper"> <h3> {{ sendcloudTitle }} </h3> </div> {% endblock %}',{Component:v}=Shopware;v.register("sendcloud-title",{template:g,props:{sendcloudTitle:{type:String,required:!0,default:""}}});const f='{% block sendlcoud_button %} <div class="sendcloud-buttons-wrapper"> <button @click="onClick" type="button" class="sendcloud-button"> {{ sendcloudButtonLabel }} </button> </div> {% endblock %}',{Component:b}=Shopware;b.register("sendcloud-button",{template:f,props:{onClick:{type:Function,required:!0},sendcloudButtonLabel:{type:String,required:!0,default:""}}});const S='{% block sendlcoud_logo %} <div class="sendcloud-logo-wrapper"> <div class="sendcloud-logo"> <img :src="sendcloudLogoUrl"> </div> </div> {% endblock %}',{Component:y}=Shopware;y.register("sendcloud-logo",{template:S,props:{sendcloudLogoUrl:{type:String,required:!0,default:"/bundles/sendcloudshipping/administration/img/sendcloud.svg"}}});const C='{% block sendcloud_form_field %} <sw-container> <sw-field class="sendcloud-label-align" v-model="sendcloudFieldModel" :name="sendcloudFieldName" :type="sendcloudFieldType" :label="sendcloudFieldLabel" :value="sendcloudFieldValue" :placeholder="sendcloudFieldPlaceholder" :helpText="sendcloudHelpText"> <slot> {% block sendcloud_field_slot %}{% endblock %} </slot> </sw-field> </sw-container> {% endblock %}',{Component:w}=Shopware;w.register("sendcloud-form-field",{template:C,props:{sendcloudFieldName:{type:String,required:!0,default:""},sendcloudFieldType:{type:String,required:!0,default:""},sendcloudFieldLabel:{type:String,required:!0,default:""},sendcloudFieldValue:{type:String,required:!1,default:""},sendcloudFieldModel:{type:String,required:!1,default:""},sendcloudFieldPlaceholder:{type:String,required:!1,default:""},sendcloudHelpText:{type:String,required:!1,default:""}}});const T='{% block sendcloud_form_button_container %} <div class="sendcloud-form-button-container"> <slot> {% block sendcloud_form_button_container_slot %}{% endblock %} </slot> </div> {% endblock %}',{Component:k}=Shopware;k.register("sendcloud-form-button-container",{template:T});const P='{% block sendcloud_paragraph %} <div class="sendcloud-paragraph"> <p> {{ sendcloudParagraph }}</p> <br> </div> {% endblock %}',{Component:$}=Shopware;$.register("sendcloud-paragraph",{template:P,props:{sendcloudParagraph:{type:String,required:!0,default:""}}});const x=`{% block sendcloud_index %} <sw-page class="sendcloud-page"> <template #content> <sw-loader class="sc-loader" v-if="isLoading" /> <template v-else> <sendcloud-welcome v-if="$route.params.page === 'welcome'" /> <sendcloud-dashboard v-else-if="$route.params.page === 'dashboard'" /> </template> </template> </sw-page> {% endblock %}`,{Component:M}=Shopware;M.register("sendcloud-index",{template:x,inject:["sendcloudService"],data(){return{isLoading:!0}},mounted:function(){this.getCurrentRoute({})},watch:{$route(e,t){let n={};e.hasOwnProperty("query")&&Object.keys(e.query).length>0?n=e.query:t.hasOwnProperty("query")&&Object.keys(t.query).length>0&&(n=t.query),this.getCurrentRoute(n)}},methods:{getCurrentRoute:function(e){return this.sendcloudService.getCurrentRoute().then(t=>{this.isLoading=!1;let o={name:"sendcloud.shipping.index",params:{page:t.page},query:e};(this.$route.name!==o.name||JSON.stringify(this.$route.params)!==JSON.stringify(o.params))&&window.location.hash.indexOf("sendcloud")!==-1&&this.$router.replace(o),this.isLoading=!1}).catch(t=>{})}}});const L=`{% block sendcloud_welcome %} <div> <sendcloud-banner/> <sendcloud-container> <sw-loader class="sc-loader" v-if="isLoading"/> <sendcloud-content-window> <sendcloud-logo :sendcloud-logo-url="'bundles/sendcloudshipping/administration/img/sendcloud.svg'"/> <sendcloud-title :sendcloud-title="$tc('send-cloud.welcome.title')"/> <sendcloud-main-text :sendcloud-main-text="$tc('send-cloud.welcome.mainText')"/> <sendcloud-button :sendcloud-button-label="$tc('send-cloud.welcome.buttonLabel')" :on-click="startAuthProcess"/> </sendcloud-content-window> </sendcloud-container> </div> {% endblock %}`,{Component:I}=Shopware;I.register("sendcloud-welcome",{template:L,inject:["sendcloudService"],data(){return{isLoading:!1,isMenuExpanded:!0}},created:function(){this.init()},methods:{startAuthProcess:function(){return this.sendcloudService.getRedirectUrl().then(e=>{this.redirectToConnectionScreenAndStartChecking(e.redirectUrl)}).catch(e=>{console.log(e)})},redirectToConnectionScreenAndStartChecking:function(e){this.isLoading=!0;var t=window.open(e,"_blank");t.focus(),this.checkStatus()},checkStatus:function(){this.sendcloudService.checkConnectionStatus().then(e=>{if(e.isConnected)window.location.reload();else{var t=this.checkStatus;setTimeout(t,250)}}).catch(e=>{console.log(e)})},init(){let e,t,n=document.getElementsByClassName("sw-admin-menu__toggle")[0];n&&n.addEventListener("click",function(){t=document.getElementsByClassName("sw-admin-menu")[0],e=document.getElementsByClassName("sw-loader"),!(!e||!e[0]||!t)&&(this.isMenuExpanded=!(t&&!t.classList.contains("is--expanded")),e[0].classList.toggle("sc-loader",this.isMenuExpanded))})}}});const N=`{% block sendcloud_dashboard %} <sendcloud-container> <sw-tabs> <sw-tabs-item name="dashboard" :active="activeTab === 'dashboard'" @click="activeTab = 'dashboard'"> {{ $tc('send-cloud.dashboard.tabName') }} </sw-tabs-item> <sw-tabs-item name="customs" :active="activeTab === 'customs'" @click="activeTab = 'customs'"> {{ $tc('send-cloud.customsInfo.tabName') }} </sw-tabs-item> <div class="sendcloud-tab-logo"> <img :src="'bundles/sendcloudshipping/administration/img/sendcloud_with_name.svg' "> </div> </sw-tabs> <sw-loader class="sc-loader" v-if="isLoading"/> <div v-if="activeTab === 'dashboard'"> <sendcloud-notification v-if="!isServicePointEnabled" :sendcloud-notification-title="$tc('send-cloud.dashboard.notification.title')" :sendcloud-notification-message="$tc('send-cloud.dashboard.notification.message', 1, {channel: salesChannel})" /> <sendcloud-content-window> <sendcloud-logo :sendcloud-logo-url="'bundles/sendcloudshipping/administration/img/sendcloud_with_name.svg' "/> <sendcloud-main-text :sendcloud-main-text="$tc('send-cloud.dashboard.mainText')"/> <sendcloud-button :sendcloud-button-label="$tc('send-cloud.dashboard.buttonLabel')" :on-click="goToSendCloud"/> </sendcloud-content-window> </div> <sendcloud-customs-info v-if="activeTab === 'customs'" :sendcloud-shipment-types="shipmentTypes" :sendcloud-countries="countries" :sendcloud-custom-fields="customFields" :sendcloud-shipment-type="shipmentType" ></sendcloud-customs-info> </sendcloud-container> {% endblock %}`,H='{% block sendcloud_notification %} <div class="sendcloud-notification-container"> <div class="sendcloud-notification"> <div class="sendcloud-notification-content"> <div class="sendcloud-notification-icon-container"> <div class="sendcloud-notification-icon"> <sw-icon name="default-badge-info" color="#274FD4" size="40"/> </div> </div> <div class="sendcloud-notification-text-container"> <div class="sendcloud-notification-text-message"> <h3>{{ sendcloudNotificationTitle }}</h3> {{ sendcloudNotificationMessage }} </div> </div> </div> </div> </div> {% endblock %}',{Component:_}=Shopware;_.register("sendcloud-notification",{template:H,props:{sendcloudNotificationTitle:{type:String,required:!0,default:""},sendcloudNotificationMessage:{type:String,required:!0,default:""}}});const z=`{% block sendcloud_customs_info %} <div> <sw-loader class="sc-loader" v-if="isLoading"/> <sw-card :title="$tc('send-cloud.customsInfo.defaultValues.title')"> <sendcloud-paragraph :sendcloud-paragraph="$tc('send-cloud.customsInfo.defaultValues.paragraph')"></sendcloud-paragraph> <sw-select-field name="shipmentType" id="shipmentType" class="sendcloud-label-align" :options="shipmentTypeOptions" v-model="shipmentType" :label="$tc('send-cloud.customsInfo.shipmentType')"> <template v-slot:label>{{ $tc('send-cloud.customsInfo.shipmentType') }}</template> <option value="">({{ $tc('send-cloud.customsInfo.none') }})</option> <option v-for="(item, itemIndex) in sendcloudShipmentTypes" :value="item.value"> {{ $tc('send-cloud.customsInfo.shipmentTypes.'+item.label) }} </option> </sw-select-field> <sw-text-field @click="deleteBlurListener" class="sendcloud-label-align" name="hsCode" v-model="hsCode" :label="$tc('send-cloud.customsInfo.hsCode')"> <template v-slot:label>{{ $tc('send-cloud.customsInfo.hsCode') }}</template> </sw-text-field> <sw-select-field class="sendcloud-label-align" name="originCountry" v-model="originCountry" :options="sendcloudCountries" :label="$tc('send-cloud.customsInfo.originCountry')"> <template v-slot:label>{{ $tc('send-cloud.customsInfo.originCountry') }}</template> <option value="">{{ $tc('send-cloud.customsInfo.originCountrySelectMessage') }}</option> <option v-for="(item, itemIndex) in sendcloudCountries" :value="item.value"> {{ item.label }} </option> </sw-select-field> </sw-card> <sw-card :title="$tc('send-cloud.customsInfo.dataMapping.title')"> <sendcloud-paragraph :sendcloud-paragraph="$tc('send-cloud.customsInfo.dataMapping.paragraph')"></sendcloud-paragraph> <sw-select-field class="sendcloud-label-align" name="mappedHsCode" v-model="mappedHsCode" :options="sendcloudCustomFields" :label="$tc('send-cloud.customsInfo.hsCode')"> <template v-slot:label>{{ $tc('send-cloud.customsInfo.hsCode') }}</template> <option value="">{{ $tc('send-cloud.customsInfo.hsCodeMappingSelectMessage') }}</option> <option v-for="(item, itemIndex) in sendcloudCustomFields" :value="item.value"> {{ item.label }} </option> </sw-select-field> <sw-select-field class="sendcloud-label-align" name="mappedOriginCountry" v-model="mappedOriginCountry" :options="sendcloudCustomFields" :label="$tc('send-cloud.customsInfo.originCountry')"> <template v-slot:label>{{ $tc('send-cloud.customsInfo.originCountry') }}</template> <option value="">{{ $tc('send-cloud.customsInfo.originCountryMappingSelectMessage') }}</option> <option v-for="(item, itemIndex) in sendcloudCustomFields" :value="item.value"> {{ item.label }} </option> </sw-select-field> </sw-card> <sendcloud-form-button-container> <sw-button variant="primary" size="large" @click="saveConfiguration">Save</sw-button> </sendcloud-form-button-container> </div> {% endblock %}`,{Component:q,Mixin:E}=Shopware;q.register("sendcloud-customs-info",{template:z,inject:["sendcloudService"],mixins:[E.getByName("notification")],props:{sendcloudShipmentTypes:{type:Array,required:!0,default:[]},sendcloudCountries:{type:Array,required:!0,default:[]},sendcloudCustomFields:{type:Array,required:!0,default:[]},sendcloudShipmentType:{type:String,required:!0,default:""}},data(){return{isLoading:!0,hsCode:"",originCountry:"",mappedOriginCountry:"",mappedHsCode:"",shipmentType:"2",shipmentTypeOptions:[{label:this.$tc("send-cloud.customsInfo.none"),value:""},{label:this.$tc("send-cloud.customsInfo.shipmentTypes.gift"),value:"0"},{label:this.$tc("send-cloud.customsInfo.shipmentTypes.documents"),value:"1"},{label:this.$tc("send-cloud.customsInfo.shipmentTypes.commercialGoods"),value:"2"},{label:this.$tc("send-cloud.customsInfo.shipmentTypes.commercialSample"),value:"3"},{label:this.$tc("send-cloud.customsInfo.shipmentTypes.returnedGoods"),value:"4"}]}},created:function(){this.getCustomsConfig()},methods:{getCustomsConfig(){return this.sendcloudService.getCustomsInfo().then(e=>{e.hasOwnProperty("shipmentType")&&e.hasOwnProperty("hsCode")&&e.hasOwnProperty("originCountry")&&e.hasOwnProperty("mappedHsCode")&&e.hasOwnProperty("mappedOriginCountry")&&(this.shipmentType=e.shipmentType,this.originCountry=e.originCountry,this.hsCode=e.hsCode,this.mappedHsCode=e.mappedHsCode,this.mappedOriginCountry=e.mappedOriginCountry),this.isLoading=!1}).catch(e=>{this.isLoading=!1})},saveConfiguration(){this.isLoading=!0;let e={};return e.shipmentType=this.shipmentType,e.originCountry=this.originCountry,e.hsCode=this.hsCode,e.mappedHsCode=this.mappedHsCode,e.mappedOriginCountry=this.mappedOriginCountry,this.sendcloudService.saveCustomsInfo(e).then(t=>{this.getCustomsConfig(),this.createNotificationSuccess({title:this.$tc("global.default.success"),message:this.$tc("send-cloud.customsInfo.successfulSaveMessage")})}).catch(t=>{this.isLoading=!1,this.createNotificationError({message:t})})},deleteBlurListener(){let e=document.getElementById("hsCode");e&&(e.addEventListener("focus",function(){e.addEventListener("blur",t=>{t.stopPropagation(),t.preventDefault()},!0)},!0),e.addEventListener("blur",function(){e.removeEventListener("blur",t=>{t.stopPropagation(),t.preventDefault()},!0)},!0))}}});const{Component:A}=Shopware;A.register("sendcloud-dashboard",{template:N,inject:["sendcloudService"],data(){return{isLoading:!0,isServicePointEnabled:!1,salesChannel:"",sendcloudUrl:"",activeTab:"dashboard",shipmentTypes:[],countries:[],customFields:[],shipmentType:""}},created:function(){this.getDashboardConfig()},methods:{getDashboardConfig:function(){return this.sendcloudService.getDashboardConfig().then(e=>{this.isLoading=!1,this.isServicePointEnabled=e.isServicePointEnabled,this.salesChannel=e.salesChannel,this.sendcloudUrl=e.sendcloudUrl,this.shipmentTypes=e.shipmentTypes,this.countries=e.countries,this.customFields=e.customFields,this.shipmentType=e.shipmentTypePreselectedValue}).catch(e=>{})},goToSendCloud:function(){var e=window.open(this.sendcloudUrl,"_blank");e.focus()}}});const O={"send-cloud":{basic:{label:"Sendcloud",description:""},welcome:{title:"Die Versandsoftware für den E-Commerce",mainText:"Bereits mehr als 10.000 Onlinehändler vertrauen auf Sendcloud. Join the revolution!",buttonLabel:"Einloggen oder kostenlosen Sendcloud Account erstellen"},dashboard:{tabName:"Dashboard",mainText:"Alles bereit! Jetzt kann's losgehen!",buttonLabel:"Gehe zu Sendcloud",notification:{title:"Die Service Point Zustellung ist deaktiviert!",message:'Bitte aktivieren Sie die Service Points in Sendcloud unter "Einstellungen" > "Integrationen" > {channel}, um die Versandmethode verwenden zu können.'}},shipment:{trackingNumber:"Tracking number",servicePointDelivery:"Service Point Zustellung",changeServicePoint:"Service Point ändern",selectServicePoint:"Service Point auswählen",emptyStatusMessage:"-",emptyTrackingNumberMessage:"-",emptyServicePointMessage:"-"},customsInfo:{tabName:"Customs information",defaultValues:{title:"Default values",paragraph:"To send international shipment data to Sendcloud, please select a default value that will be used. If you have mapped value for HS code and origin country in the next section, and the value is not found on the product, the defined value below will be used."},dataMapping:{title:"Data mapping",paragraph:"Please map product HS-code and origin country to Shopware custom product attributes. Mapped attribute values will be used when plugin sends order data to Sendcloud."},shipmentType:"Shipment type",shipmentTypeHelpText:"Type of shipment.",hsCode:"HS Code",hsCodeHelpText:"The HS code is the harmonized system code. If you want to ship",originCountry:"Origin country",originCountryHelpText:"In most cases, the country where the product is manufactured.",hsCodePlaceholderText:"Enter default value for HS code field",originCountrySelectMessage:"Please select country of origin",hsCodeMappingSelectMessage:"Please select attribute for mapping",originCountryMappingSelectMessage:"Please select attribute for mapping",none:"None",shipmentTypes:{gift:"Geschenk",documents:"Dokumente",commercialGoods:"Kommerzielle Güter",commercialSample:"Handelsmuster",returnedGoods:"Rücksendung"},successfulSaveMessage:"Customs information has been saved."}}},F={"send-cloud":{basic:{label:"Sendcloud",description:""},welcome:{title:"The shipping software for e-commerce",mainText:"Join over 10.000+ online stores automating their shipping process.",buttonLabel:"Login or create your free Sendcloud account"},dashboard:{tabName:"Dashboard",mainText:"You're all set to start shipping more efficiently!",buttonLabel:"Go to Sendcloud",notification:{title:"Service point delivery is disabled!",message:"Enable service points in your Sendcloud settings > Integrations > {channel} to offer Service Point Delivery in your checkout."}},shipment:{trackingNumber:"Tracking number",servicePointDelivery:"Service Point Delivery",changeServicePoint:"Change a service point",selectServicePoint:"Select service point",emptyStatusMessage:"-",emptyTrackingNumberMessage:"-",emptyServicePointMessage:"-"},customsInfo:{tabName:"Customs information",defaultValues:{title:"Default values",paragraph:"To send international shipment data to Sendcloud, please select a default value that will be used. If you have mapped value for HS code and origin country in the next section, and the value is not found on the product, the defined value below will be used."},dataMapping:{title:"Data mapping",paragraph:"Please map product HS-code and origin country to Shopware custom product attributes. Mapped attribute values will be used when plugin sends order data to Sendcloud."},shipmentType:"Shipment type",shipmentTypeHelpText:"Type of shipment.",hsCode:"HS Code",hsCodeHelpText:"The HS code is the harmonized system code. If you want to ship your products internationally, you would need to enter these codes. These codes provide customs with information so that correct tariffs can be applied to the order. Used by border officers to classify this product.",originCountry:"Origin country",originCountryHelpText:"In most cases, the country where the product is manufactured.",hsCodePlaceholderText:"Enter default value for HS code field",originCountrySelectMessage:"Please select country of origin",hsCodeMappingSelectMessage:"Please select attribute for mapping",originCountryMappingSelectMessage:"Please select attribute for mapping",none:"None",shipmentTypes:{gift:"Gift",documents:"Documents",commercialGoods:"Commercial Goods",commercialSample:"Commercial Sample",returnedGoods:"Returned Goods"},successfulSaveMessage:"Customs information has been saved."}}},j={"send-cloud":{basic:{label:"Sendcloud",description:""},welcome:{title:"De verzendsoftware voor e-commerce",mainText:"Al meer dan 10.000 webshops automatiseren hun verzendproces. Join the revolution!",buttonLabel:"Login of creëer een gratis Sendcloud account"},dashboard:{tabName:"Dashboard",mainText:"Je bent helemaal klaar. Start direct met verzenden!",buttonLabel:"Ga naar Sendcloud",notification:{title:"Afhaalpuntlevering is uitgeschakeld!",message:"Activeer afhaalpunten in je Sendcloud instellingen bij > Integraties > {channel} om afhaalpunten in je checkout aan te bieden."}},shipment:{trackingNumber:"Tracking nummer",servicePointDelivery:"Afhaalpuntlevering",changeServicePoint:"Wijzig afhaalpunt",selectServicePoint:"Selecteer afhaalpunt",emptyStatusMessage:"-",emptyTrackingNumberMessage:"-",emptyServicePointMessage:"-"},customsInfo:{tabName:"Customs information",defaultValues:{title:"Standaardwaarden",paragraph:"Om informatie-verzenddata naar Sendcloud te sturen dien je een standaardwaarde te selecteren. Als je in het volgende gedeelte waardes voor HS-code en land van herkomst toewijst en de waarde kan niet op het product worden gevonden, dan wordt de hieronder gedefinieerde waarde gebruikt."},dataMapping:{title:"Gegevenstoewijzing",paragraph:"Wijs de HS-code en het land van herkomst van het product toe aan custom Shopware productattributen. Toegewezen attribuutwaarden worden gebruikt wanneer de plugin data naar Sendcloud stuurt."},shipmentType:"Verzenddtype",shipmentTypeHelpText:"Type verzending.",hsCode:"HS-code",hsCodeHelpText:"HS-code staat voor Harmonized System code. Wanneer je je producten internationaal wilt verzenden dien je deze codes in te voeren. De codes voorzien de douane van informatie zodat de correcte tarieven op de bestelling kunnen worden toegepast. Wordt door grensofficieren gebruikt om producten te classificeren.",originCountry:"Land van herkomst",originCountryHelpText:"In de meeste gevallen het land waarin het product is gefabriceerd",hsCodePlaceholderText:"Voer standaardwaarde voor HS-code veld in",originCountrySelectMessage:"Selecteer het land van herkomst",hsCodeMappingSelectMessage:"Selecteer attribuut voor toewijzing",originCountryMappingSelectMessage:"Selecteer attribuut voor toewijzing",none:"Geen",shipmentTypes:{gift:"Cadeau",documents:"Documenten",commercialGoods:"Commerciële goederen",commercialSample:"Commercieel proefmonster",returnedGoods:"Geretourneerde goederen"},successfulSaveMessage:"Customs information has been saved."}}},B={"send-cloud":{basic:{label:"Sendcloud",description:""},welcome:{title:"La plataforma de envíos para eCommerce",mainText:"Únete a las +10.000 tiendas online que automatizan su proceso de envíos",buttonLabel:"Entra en tu cuenta Sendcloud o crea una gratis ahora"},dashboard:{tabName:"Dashboard",mainText:"¡Todo listo para empezar a enviar más eficientemente!",buttonLabel:"Ir a Sendcloud",notification:{title:"Puntos de servicio de recogida esta desactivado!",message:"Establece los puntos de servicio en la configuración de Sendcloud > Integraciones > {channel} carrito para ofrecer Puntos de Servicio de Entrega en tu checkout."}},shipment:{trackingNumber:"Número de seguimiento",servicePointDelivery:"Punto de servicio de entrega",changeServicePoint:"Cambiar punto de servicio",selectServicePoint:"Selecciona un punto de servicio",emptyStatusMessage:"-",emptyTrackingNumberMessage:"-",emptyServicePointMessage:"-"},customsInfo:{tabName:"Customs information",defaultValues:{title:"Valores predeterminados",paragraph:"Para enviar datos de la información del envío a Sendcloud, por favor selecciona un valor predeterminado que se utilizará. Se has asignado un valor para el código SA (HS code) y el país de origen en la siguiente sección, y el valor no se enceuntra en el producto, se utilizará en valor definido a continuación."},dataMapping:{title:"Asignación de datos",paragraph:"Por favor, asigna el código SA  (HS code) del producto y el país de origen a los atributos de los productos personalizados de Shopware. Se utilizarán los valores de los atributos asigandos cuando el plugin mande datos del pedido a Sendcloud. "},shipmentType:"Tipo de envío",shipmentTypeHelpText:"Tipo de envío.",hsCode:"Código SA (HS code)",hsCodeHelpText:"El código SA (HS code) es el código de sistema armonizado. Si quieres enviar tus productos al extranjero, necesitarías introducir estos códigos. Estos códigos proporcinan información a las aduanas para que puedan aplicar los aranceles correctos al pedido. Es utilizado por los agentes de las fronteras para clasificar este producto.",originCountry:"País de origen",originCountryHelpText:"En la mayoría de los casos, el país donde el producto es manufacturado.",hsCodePlaceholderText:"Introduce el valor predeterminado para el campo del código SA (HS code)",originCountrySelectMessage:"Por favor, selecciona el país de origen",hsCodeMappingSelectMessage:"Por favor, selecciona un atributo para la asignación",originCountryMappingSelectMessage:"Por favor, selecciona un atributo para la asignación",none:"Ninguno",shipmentTypes:{gift:"Regalo",documents:"Documentos",commercialGoods:"Bienes comerciales",commercialSample:"Muestra comercial",returnedGoods:"Mercancías devueltas"},successfulSaveMessage:"Customs information has been saved."}}},R={"send-cloud":{basic:{label:"Sendcloud",description:""},welcome:{title:"La solution d'envoi de colis pour les sites e-commerce",mainText:"Rejoignez plus de 10.000 e-commerçants ayant fait le choix d'automatiser leur processus d'expédition.",buttonLabel:"Connectez-vous ou créez votre compte Sendcloud gratuitement"},dashboard:{tabName:"Tableau de bord",mainText:"Tout est prêt pour une expédition plus efficace de vos colis!",buttonLabel:"Aller sur Sendcloud",notification:{title:"La livraison en point relais est désactivée!",message:'Veuillez activer la livraison en points relais dans le panel Sendcloud sous "Réglages -> Boutiques connectées -> {channel} " afin d’utiliser la méthode d’expédition "Livraison en points relais".'}},shipment:{trackingNumber:"Numéro de suivi du colis reçu",servicePointDelivery:"Livraison en Point Relais",changeServicePoint:"Modifier le Point Relais",selectServicePoint:"Selectionnez un Point Relais",emptyStatusMessage:"-",emptyTrackingNumberMessage:"-",emptyServicePointMessage:"-"},customsInfo:{tabName:"Customs information",defaultValues:{title:"Valeurs par défaut",paragraph:"Pour envoyer des information sur le statut des envois à Sendcloud, veuillez sélectionner une valeur par défaut qui sera utilisée. Si vous avez mappé la valeur pour le code SH et le pays d'origine dans la section suivante, et que la valeur ne se trouve pas sur le produit, la valeur définie ci-dessous sera utilisée."},dataMapping:{title:"Cartographie des données",paragraph:"Veuillez faire correspondre le code SH du produit et le pays d'origine aux attributs personnalisés du produit Shopware. Les valeurs des attributs mappés seront utilisées lorsque le plugin enverra les données de commande à Sendcloud."},shipmentType:"Option de livraison",shipmentTypeHelpText:"Option de livraison.",hsCode:"Code SH",hsCodeHelpText:"Le code SH est le code du système harmonisé. Si vous souhaitez expédier vos produits à l'étranger, vous devez saisir ces codes. Ces codes fournissent aux douanes des informations qui leur permettent d'appliquer des tarifs corrects à la commande. Ils sont utilisés par les agents des frontières pour classer ce produit.",originCountry:"Pays d'origine",originCountryHelpText:"Dans la plupart des cas, le pays où le produit est fabriqué.",hsCodePlaceholderText:"Entrez la valeur par défaut dans le champ code SH",originCountrySelectMessage:"Veuillez sélectionner le pays d'origine",hsCodeMappingSelectMessage:"Veuillez sélectionner un attribut pour la cartographie",originCountryMappingSelectMessage:"Veuillez sélectionner un attribut pour la cartographie",none:"Aucun",shipmentTypes:{gift:"Cadeaux",documents:"Documents",commercialGoods:"Marchandises commerciales",commercialSample:"Échantillon commercial",returnedGoods:"Retours de marchandise"},successfulSaveMessage:"Customs information has been saved."}}};Shopware.Module.register("sendcloud-shipping",{type:"plugin",name:"send-cloud.basic.label",title:"send-cloud.basic.label",description:"send-cloud.basic.description",color:"#1D97FF",icon:"default-action-cloud-upload",snippets:{"de-DE":O,"en-GB":F,"nl-NL":j,"es-ES":B,"fr-FR":R},routes:{index:{component:"sendcloud-index",path:":page?"}},navigation:[{id:"send-cloud.basic.id",label:"send-cloud.basic.label",color:"#1D97FF",path:"sendcloud.shipping.index",icon:"default-action-cloud-upload",parent:"sw-order"}]});const G=`<div> <div class="service-point-info-headline"> {{ $tc('send-cloud.shipment.servicePointDelivery') }} </div> <div v-if="servicePointInfo"> <div>{{ servicePointInfo.name }}</div> <div>{{ servicePointInfo.street }}</div> <div>{{ servicePointInfo.postal_code }} {{ servicePointInfo.city }}</div> <div>{{ servicePointInfo.country }}</div> </div> <div v-else> {{ $tc('send-cloud.shipment.emptyServicePointMessage') }} </div> <div class="service-point-info-button-action"> <sw-button variant="ghost" :square="false" size="x-small" @click="openServicePointPicker"> {{ linkLabel }} </sw-button> </div> </div>`,{Component:D}=Shopware;D.register("service-point-info-details",{template:G,inject:["sendcloudService"],props:{servicePointInfo:{type:Object,required:!0,default(){return null}},apiKey:{type:String,required:!0,default(){return""}},sendcloudScriptUrl:{type:String,required:!0,default(){return""}},linkLabel:{type:String,required:!0,default(){return this.$tc("send-cloud.shipment.selectServicePoint")}},carriers:{type:String,required:!0,default(){return""}},order:{type:Object,required:!0,default(){return{}}}},mounted:function(){let e=document.createElement("script");e.setAttribute("src",this.sendcloudScriptUrl),document.head.appendChild(e)},methods:{openServicePointPicker:function(){var e=this.getConfigParameters(),t=this;sendcloud.servicePoints.open(e,function(n){t.sendcloudService.saveShipping(t.order.orderNumber,n).then(o=>{o.success&&(t.servicePointInfo=n,t.linkLabel=t.$tc("send-cloud.shipment.changeServicePoint"))}).catch(o=>{})},function(n){n.forEach(function(o){console.log("Failure callback, reason: "+o)})})},getConfigParameters:function(){let e=this.order.deliveries,t="",n="en",o="";if(Array.isArray(e)){let i=e[0].shippingOrderAddress;i&&(t=i.zipcode);let a=i.country;a&&(o=a.iso)}return{apiKey:this.apiKey?this.apiKey:null,country:o,postalCode:t,language:n,carriers:this.carriers,weight:"2"}}}});const U=`<sw-card class="sw-order-delivery-metadata" :title="$tc('send-cloud.basic.label')"> <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="0 30px"> <sw-description-list> <dt>{{ $tc('sw-order.list.columnState') }}</dt> <dd>{{ orderStatus }}</dd> <dt>{{ $tc('send-cloud.shipment.trackingNumber') }}</dt> <dd> <a v-if="showTrackingNumber" :href="trackingUrl" rel="noopener" target="_blank">{{ trackingNumber }}</a> <span v-else>{{ $tc('send-cloud.shipment.emptyTrackingNumberMessage') }}</span> </dd> </sw-description-list> <service-point-info-details v-if="showSendCloudCard" :service-point-info="servicePointInfo" :api-key="apiKey" :carriers="carriers" :order="order" :link-label="linkLabel" :sendcloud-script-url="sendcloudScriptUrl" /> </sw-container> </sw-card>`,{Component:V}=Shopware;V.register("sendcloud-card-details",{template:U,inject:["sendcloudService"],data(){return{showSendCloudCard:!1,isLoading:!0,orderStatus:"",trackingNumber:"",showTrackingNumber:!1,trackingUrl:"",carriers:"",apiKey:"",servicePointInfo:null,linkLabel:this.$tc("send-cloud.shipment.selectServicePoint"),sendcloudScriptUrl:""}},props:{order:{type:Object,required:!0,default(){return{}}}},created:function(){this.fetchShipmentInfo()},updated:function(){this.fetchShipmentInfo()},methods:{fetchShipmentInfo:function(){return this.sendcloudService.sendShipment(this.order.orderNumber).then(e=>{this.isLoading=!1,this.orderStatus=e.status?e.status:this.$tc("send-cloud.shipment.emptyStatusMessage"),this.trackingNumber=e.trackingNumber,this.trackingUrl=e.trackingUrl,this.showTrackingNumber=!!e.trackingNumber,this.apiKey=e.apiKey,this.showSendCloudCard=this.apiKey.length>0,this.carriers=e.carriers,this.sendcloudScriptUrl=e.sendcloudScriptUrl,this.servicePointInfo=JSON.parse(e.servicePointInfo),this.servicePointInfo.id&&(this.linkLabel=this.$tc("send-cloud.shipment.changeServicePoint"))}).catch(e=>{})}}});const K='{% block sw_order_detail_details_shipping_tracking_codes %} <sendcloud-card-details :order="order"/> {% parent %} {% endblock %}',{Component:J}=Shopware;J.override("sw-order-detail-details",{template:K});const s=Shopware.Classes.ApiService;class W extends s{constructor(t,n){super(t,n,"sendcloud"),this.name="sendcloudService"}saveShipping(t,n){return this.httpClient.post(`/sendcloud/shipment/save/${t}`,n,{headers:this.getBasicHeaders()}).then(o=>s.handleResponse(o))}sendShipment(t){return this.httpClient.get(`/sendcloud/shipment/${t}`,{headers:this.getBasicHeaders()}).then(n=>s.handleResponse(n))}getCurrentRoute(){return this.httpClient.get("/sendcloud/router",{headers:this.getBasicHeaders()}).then(t=>s.handleResponse(t))}getDashboardConfig(){return this.httpClient.get("/sendcloud/dashboard",{headers:this.getBasicHeaders()}).then(t=>s.handleResponse(t))}getRedirectUrl(){return this.httpClient.get("/sendcloud/redirectUrl",{headers:this.getBasicHeaders()}).then(t=>s.handleResponse(t))}checkConnectionStatus(){return this.httpClient.get("/sendcloud/connectionStatus",{headers:this.getBasicHeaders()}).then(t=>s.handleResponse(t))}getCustomsInfo(){return this.httpClient.get("/sendcloud/getcustoms",{headers:this.getBasicHeaders()}).then(t=>s.handleResponse(t))}saveCustomsInfo(t){return this.httpClient.post("/sendcloud/savecustoms",t,{headers:this.getBasicHeaders()}).then(n=>s.handleResponse(n))}}const Z=Shopware.Application.getContainer("init");Shopware.Application.addServiceProvider("sendcloudService",e=>new W(Z.httpClient,e.loginService));
//# sourceMappingURL=sendcloud-shipping-Bp8cejdh.js.map
